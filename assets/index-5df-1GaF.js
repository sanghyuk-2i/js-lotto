(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const g={min:1,max:45},v=Array.from({length:g.max-g.min+1},(e,o)=>g.min+o),h={SIZE:6,PRICE:1e3,NUMBERS:v,RANGE:g},x=e=>e!=null&&!isNaN(e),S=e=>Number.isInteger(e)&&e>0,F=e=>e.length!==new Set(e).size,H=e=>e.toLocaleString(),w=(e,o)=>e.length===o.length&&e.every((t,c)=>t===o[c]),J=e=>[...e].sort(()=>Math.random()-.5),T=e=>x(e)&&S(e)&&e>=h.RANGE.min&&e<=h.RANGE.max,U=(e,o)=>x(e)&&S(e)&&T(e)&&!o.includes(e),D=e=>{if(!Array.isArray(e)||e.length<h.SIZE||F(e)||!e.every(T))throw new Error("보유한 로또 숫자들 중 허용되지 않는 숫자가 있습니다.");return J(Array.from(e)).slice(0,h.SIZE)},E={FIRST:{label:"1등",value:"FIRST",number:1},SECOND:{label:"2등",value:"SECOND",number:2},THIRD:{label:"3등",value:"THIRD",number:3},FOURTH:{label:"4등",value:"FOURTH",number:4},FIFTH:{label:"5등",value:"FIFTH",number:5}},I={[E.FIRST.value]:{match:[6,0],price:2e9},[E.SECOND.value]:{match:[5,1],price:3e7},[E.THIRD.value]:{match:[5,0],price:15e5},[E.FOURTH.value]:{match:[4,0],price:5e4},[E.FIFTH.value]:{match:[3,0],price:5e3}},s={MIN_MATCH:I.FIFTH.match[0],RANKS:E,RULES:I},k=(e,o)=>e.filter(t=>o.includes(t)),M=e=>Array.isArray(e)&&e.length===h.SIZE&&e.every(T)&&[...new Set(e)].length===h.SIZE,K=(e,o)=>{const t=[e.length,o?1:0],c=Object.entries(s.RULES).find(([n,r])=>w(t,r.match));return c?s.RANKS[c[0]].number:0},j=e=>({[s.RANKS.FIRST.number]:s.RULES.FIRST.price,[s.RANKS.SECOND.number]:s.RULES.SECOND.price,[s.RANKS.THIRD.number]:s.RULES.THIRD.price,[s.RANKS.FOURTH.number]:s.RULES.FOURTH.price,[s.RANKS.FIFTH.number]:s.RULES.FIFTH.price})[e]??0,P=(e,o)=>o.reduce((t,{rank:c,price:n})=>c===e?{count:t.count+1,amount:t.amount+n}:t,{count:0,amount:0}),B=e=>{if(!Array.isArray(e))throw new Error("총 당첨 금액을 계산하는데 잘못된 입력값을 주셨습니다.");return e.reduce((o,t)=>o+(t.price??0),0)},Z=(e,o)=>{const{ordered:t,jackpot:c}=e,n=t.includes(o),r=k(t,c),l=r.length,a=K(r,n),i=j(a);return{isJackpot:k.length>=s.MIN_MATCH,rank:a,price:i,matchedCount:l}},$=(e,o,t)=>e.map(c=>Z({ordered:c,jackpot:o},t)),q=(e,o)=>{const t=(o-e)/e*100;return t%1===0?t:Math.floor(t*10)/10},G=e=>Object.keys(s.RANKS).map(t=>{const c=P(s.RANKS[t].number,e),{match:n,price:r}=s.RULES[t];return{rank:t,matchCount:n[0],hasBonus:t==="SECOND",price:r,count:c.count}}),V=()=>{const e=document.createElement("h1");return e.textContent="🎱 행운의 로또",e},z=e=>{const{onClick:o}=e,t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.gap="8px";const c=document.createElement("span");c.textContent="지난 주 당첨번호 6개와 보너스 번호 1개를 입력해주세요.";const n=document.createElement("div");n.style.display="flex",n.style.justifyContent="space-between";const r=document.createElement("div"),l=document.createElement("label");l.style.display="block",l.style.marginBottom="8px",l.textContent="당첨 번호",r.appendChild(l),Array.from({length:h.SIZE}).forEach(()=>{const u=document.createElement("input");u.className="jackpot__number__input",u.style.display="inline-flex",u.style.width="28px",u.style.height="32px",u.style.marginRight="4px",r.appendChild(u)});const a=document.createElement("div");a.style.textAlign="right";const i=document.createElement("label");i.style.display="block",i.style.marginBottom="8px",i.textContent="보너스 번호";const m=document.createElement("input");m.style.display="inline",m.style.width="28px",m.style.height="32px";const d=document.createElement("button");return d.className="btn__primary",d.style.marginTop="12px",d.textContent="결과 확인하기",d.onclick=()=>{const C=[...document.querySelectorAll(".jackpot__number__input").entries()].map(([y,O])=>Number(O.value)),f=Number(m.value),R=M(C),N=U(f,C);try{if(!R||!N)throw new Error("당첨 번호 또는 보너스 숫자를 잘못 입력하셨습니다. 다시 시도해 주세요.")}catch(y){alert(y.message);return}o(C,f)},a.appendChild(i),a.appendChild(m),n.appendChild(r),n.appendChild(a),t.appendChild(c),t.appendChild(n),t.appendChild(d),t},W=e=>Math.floor(e/h.PRICE),_=e=>{const{onClick:o}=e,t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.gap="8px";const c=document.createElement("span");c.textContent="구입할 금액을 입력해주세요.";const n=document.createElement("div");n.style.display="flex",n.style.gap="8px";const r=document.createElement("input");r.placeholder="금액";const l=document.createElement("button");return l.className="btn__primary",l.textContent="구입",l.onclick=()=>{const a=Number(r.value);try{if(!x(a)||!S(a))throw new Error("구입금액을 잘못 입력하셨습니다. 다시 시도해 주세요.");const i=W(a);o(a,i)}catch(i){alert(i.message);return}},n.appendChild(r),n.appendChild(l),t.appendChild(c),t.appendChild(n),t},X=e=>{const{lotto:o}=e,t=document.createElement("li");t.style.display="flex",t.style.alignItems="center",t.style.gap="8px";const c=document.createElement("img");c.src="/ticket.png",c.style.width="32px",c.style.height="32px";const n=document.createElement("span");return n.textContent=o.join(", "),t.appendChild(c),t.appendChild(n),t},Y=e=>{const{lottos:o}=e,t=[...o];t.forEach(l=>l.sort((a,i)=>a-i));const c=document.createElement("div");c.className="lottos__container";const n=document.createElement("span");n.textContent=`총 ${t.length}개를 구매하셨습니다.`;const r=document.createElement("ul");return r.style.height="200px",r.style.overflowY="auto",t.forEach(l=>{r.appendChild(X({lotto:l}))}),c.appendChild(n),c.appendChild(r),c},Q=e=>{const{statisticsResult:o,profitRate:t,onClick:c}=e,n=document.createElement("dialog");n.open=!0;const r=document.createElement("span");r.className="close__icon",r.textContent="X",r.onclick=()=>{n.close(),n.remove()};const l=document.createElement("h2");l.textContent="🏆 당첨 통계 🏆",l.style.textAlign="center";const a=document.createElement("table"),i=document.createElement("tr");i.innerHTML=`
    <th>일치 갯수</th>
    <th>당첨금</th>
    <th>당첨 개수</th>
  `,a.appendChild(i),o.reverse().forEach(({matchCount:u,hasBonus:C,price:f,count:R})=>{const N=C?"+보너스볼":"",y=document.createElement("tr");y.innerHTML=`
        <td>${u}개${N}</td>
        <td>${H(f)}</td>
        <td>${R}개</td>
      `,a.appendChild(y)});const m=document.createElement("p");m.textContent=`당신의 총 수익률은 ${t}%입니다.`,m.style.textAlign="center",m.style.padding="12px 0",m.style.fontWeight="bold";const d=document.createElement("button");return d.style.width="100%",d.textContent="다시 시작하기",d.onclick=()=>{c(),n.close(),n.remove()},n.appendChild(r),n.appendChild(l),n.appendChild(a),n.appendChild(m),n.appendChild(d),n};let A=0,b=[];const p=document.querySelector("#app");p.style.display="flex";p.style.flexDirection="column";p.style.gap="16px";const ee=()=>{A=0,b=[],p.innerHTML="",p.appendChild(V()),p.appendChild(_({onClick:L}))},L=(e,o)=>{A=e,b=Array.from({length:o},()=>D([...h.NUMBERS])),p.appendChild(Y({lottos:b})),p.appendChild(z({onClick:te}))},te=(e,o)=>{const t=$(b,e,o),c=B(t),n=G(t),r=q(A,c);p.appendChild(Q({statisticsResult:n,profitRate:r,onClick:ee}))};p.appendChild(_({onClick:L}));
