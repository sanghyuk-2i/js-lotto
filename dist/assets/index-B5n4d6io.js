(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=t(n);fetch(n.href,c)}})();const g={min:1,max:45},v=Array.from({length:g.max-g.min+1},(e,o)=>g.min+o),h={SIZE:6,PRICE:1e3,NUMBERS:v,RANGE:g},x=e=>e!=null&&!isNaN(e),S=e=>Number.isInteger(e)&&e>0,F=e=>e.length!==new Set(e).size,H=e=>e.toLocaleString(),w=(e,o)=>e.length===o.length&&e.every((t,r)=>t===o[r]),U=e=>[...e].sort(()=>Math.random()-.5),T=e=>x(e)&&S(e)&&e>=h.RANGE.min&&e<=h.RANGE.max,D=(e,o)=>x(e)&&S(e)&&T(e)&&!o.includes(e),J=e=>{if(!Array.isArray(e)||e.length<h.SIZE||F(e)||!e.every(T))throw new Error("보유한 로또 숫자들 중 허용되지 않는 숫자가 있습니다.");return U(Array.from(e)).slice(0,h.SIZE)},E={FIRST:{label:"1등",value:"FIRST",number:1},SECOND:{label:"2등",value:"SECOND",number:2},THIRD:{label:"3등",value:"THIRD",number:3},FOURTH:{label:"4등",value:"FOURTH",number:4},FIFTH:{label:"5등",value:"FIFTH",number:5}},I={[E.FIRST.value]:{match:[6,0],price:2e9},[E.SECOND.value]:{match:[5,1],price:3e7},[E.THIRD.value]:{match:[5,0],price:15e5},[E.FOURTH.value]:{match:[4,0],price:5e4},[E.FIFTH.value]:{match:[3,0],price:5e3}},a={MIN_MATCH:I.FIFTH.match[0],RANKS:E,RULES:I},k=(e,o)=>e.filter(t=>o.includes(t)),M=e=>Array.isArray(e)&&e.length===h.SIZE&&e.every(T)&&[...new Set(e)].length===h.SIZE,j=(e,o)=>{const t=[e.length,o?1:0],r=Object.entries(a.RULES).find(([n,c])=>w(t,c.match));return r?a.RANKS[r[0]].number:0},K=e=>({[a.RANKS.FIRST.number]:a.RULES.FIRST.price,[a.RANKS.SECOND.number]:a.RULES.SECOND.price,[a.RANKS.THIRD.number]:a.RULES.THIRD.price,[a.RANKS.FOURTH.number]:a.RULES.FOURTH.price,[a.RANKS.FIFTH.number]:a.RULES.FIFTH.price})[e]??0,P=(e,o)=>o.reduce((t,{rank:r,price:n})=>r===e?{count:t.count+1,amount:t.amount+n}:t,{count:0,amount:0}),B=e=>{if(!Array.isArray(e))throw new Error("총 당첨 금액을 계산하는데 잘못된 입력값을 주셨습니다.");return e.reduce((o,t)=>o+(t.price??0),0)},Z=(e,o)=>{const{ordered:t,jackpot:r}=e,n=t.includes(o),c=k(t,r),l=c.length,s=j(c,n),i=K(s);return{isJackpot:k.length>=a.MIN_MATCH,rank:s,price:i,matchedCount:l}},$=(e,o,t)=>e.map(r=>Z({ordered:r,jackpot:o},t)),q=(e,o)=>{const t=(o-e)/e*100;return t%1===0?t:Math.floor(t*10)/10},G=e=>Object.keys(a.RANKS).map(t=>{const r=P(a.RANKS[t].number,e),{match:n,price:c}=a.RULES[t];return{rank:t,matchCount:n[0],hasBonus:t==="SECOND",price:c,count:r.count}}),V=()=>{const e=document.createElement("h1");return e.textContent="🎱 행운의 로또",e},z=e=>{const{onClick:o}=e,t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.gap="8px";const r=document.createElement("span");r.textContent="지난 주 당첨번호 6개와 보너스 번호 1개를 입력해주세요.";const n=document.createElement("div");n.style.display="flex",n.style.justifyContent="space-between";const c=document.createElement("div"),l=document.createElement("label");l.style.display="block",l.style.marginBottom="8px",l.textContent="당첨 번호",c.appendChild(l),Array.from({length:h.SIZE}).forEach(()=>{const u=document.createElement("input");u.className="jackpot__number__input",u.style.display="inline-flex",u.style.width="28px",u.style.height="32px",u.style.marginRight="4px",c.appendChild(u)});const s=document.createElement("div");s.style.textAlign="right";const i=document.createElement("label");i.style.display="block",i.style.marginBottom="8px",i.textContent="보너스 번호";const m=document.createElement("input");m.style.display="inline",m.style.width="28px",m.style.height="32px";const d=document.createElement("button");return d.className="btn__primary",d.style.marginTop="12px",d.textContent="결과 확인하기",d.onclick=()=>{const C=[...document.querySelectorAll(".jackpot__number__input").entries()].map(([y,O])=>Number(O.value)),f=Number(m.value),b=M(C),N=D(f,C);try{if(!b||!N)throw new Error("당첨 번호 또는 보너스 숫자를 잘못 입력하셨습니다. 다시 시도해 주세요.")}catch(y){alert(y.message);return}o(C,f)},s.appendChild(i),s.appendChild(m),n.appendChild(c),n.appendChild(s),t.appendChild(r),t.appendChild(n),t.appendChild(d),t},W=e=>Math.floor(e/h.PRICE),X="/js-lotto/assets/ticket-DZASnRTH.png",_=e=>{const{onClick:o}=e,t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.gap="8px";const r=document.createElement("span");r.textContent="구입할 금액을 입력해주세요.";const n=document.createElement("div");n.style.display="flex",n.style.gap="8px";const c=document.createElement("input");c.placeholder="금액";const l=document.createElement("button");return l.className="btn__primary",l.textContent="구입",l.onclick=()=>{const s=Number(c.value);try{if(!x(s)||!S(s))throw new Error("구입금액을 잘못 입력하셨습니다. 다시 시도해 주세요.");const i=W(s);o(s,i)}catch(i){alert(i.message);return}},n.appendChild(c),n.appendChild(l),t.appendChild(r),t.appendChild(n),t},Y=e=>{const{lotto:o}=e,t=document.createElement("li");t.style.display="flex",t.style.alignItems="center",t.style.gap="8px";const r=document.createElement("img");r.src=X,r.style.width="32px",r.style.height="32px";const n=document.createElement("span");return n.textContent=o.join(", "),t.appendChild(r),t.appendChild(n),t},Q=e=>{const{lottos:o}=e,t=[...o];t.forEach(l=>l.sort((s,i)=>s-i));const r=document.createElement("div");r.className="lottos__container";const n=document.createElement("span");n.textContent=`총 ${t.length}개를 구매하셨습니다.`;const c=document.createElement("ul");return c.style.height="200px",c.style.overflowY="auto",t.forEach(l=>{c.appendChild(Y({lotto:l}))}),r.appendChild(n),r.appendChild(c),r},ee=e=>{const{statisticsResult:o,profitRate:t,onClick:r}=e,n=document.createElement("dialog");n.open=!0;const c=document.createElement("span");c.className="close__icon",c.textContent="X",c.onclick=()=>{n.close(),n.remove()};const l=document.createElement("h2");l.textContent="🏆 당첨 통계 🏆",l.style.textAlign="center";const s=document.createElement("table"),i=document.createElement("tr");i.innerHTML=`
    <th>일치 갯수</th>
    <th>당첨금</th>
    <th>당첨 개수</th>
  `,s.appendChild(i),o.reverse().forEach(({matchCount:u,hasBonus:C,price:f,count:b})=>{const N=C?"+보너스볼":"",y=document.createElement("tr");y.innerHTML=`
        <td>${u}개${N}</td>
        <td>${H(f)}</td>
        <td>${b}개</td>
      `,s.appendChild(y)});const m=document.createElement("p");m.textContent=`당신의 총 수익률은 ${t}%입니다.`,m.style.textAlign="center",m.style.padding="12px 0",m.style.fontWeight="bold";const d=document.createElement("button");return d.style.width="100%",d.textContent="다시 시작하기",d.onclick=()=>{r(),n.close(),n.remove()},n.appendChild(c),n.appendChild(l),n.appendChild(s),n.appendChild(m),n.appendChild(d),n};let A=0,R=[];const p=document.querySelector("#app");p.style.display="flex";p.style.flexDirection="column";p.style.gap="16px";const te=()=>{A=0,R=[],p.innerHTML="",p.appendChild(V()),p.appendChild(_({onClick:L}))},L=(e,o)=>{A=e,R=Array.from({length:o},()=>J([...h.NUMBERS])),p.appendChild(Q({lottos:R})),p.appendChild(z({onClick:ne}))},ne=(e,o)=>{const t=$(R,e,o),r=B(t),n=G(t),c=q(A,r);p.appendChild(ee({statisticsResult:n,profitRate:c,onClick:te}))};p.appendChild(_({onClick:L}));
